(()=>{const e=document.querySelector(".add"),t=document.getElementById("text"),a=document.getElementsByClassName("tags-area")[0],l=document.getElementsByTagName("input")[0],s=new class{deleteTag(e){localStorage.removeItem(e)}addTag(){this.tags=t.value,t.value=""}get tags(){return Object.values(localStorage)}set tags(e){""!=e&&" "!=e?(" "===e[e.length-1]&&(e=e.slice(0,-1))," "===e[0]&&(e=e.slice(1)),e.split(" ").forEach((e=>localStorage.setItem(e,e)))):alert("you not input tag")}},n=new class{constructor(e){this.tag=e}toggleReadOnly(){t.disabled=!t.disabled,e.disabled=!e.disabled,Array.from(this.btn).forEach((e=>e.classList.toggle("hide")))}get btn(){return document.querySelectorAll(".btn-del")}renderTags(){a.innerHTML=this.tag.tags.reduce(((e,t)=>`<span>${t}<button name="${t}" class="btn-del">X</button></span> `+e),""),this.createBtnDel(this.btn)}createBtnDel(){for(let e of this.btn)e.onclick=e=>{this.tag.deleteTag(e.target.name),this.renderTags()}}}(s);n.renderTags(),t.oninput=()=>t.value=t.value.replace(/\s+/g," "),l.addEventListener("click",(()=>n.toggleReadOnly())),e.onclick=()=>{s.addTag(),n.renderTags()}})();